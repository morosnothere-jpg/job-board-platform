{"ast":null,"code":"var _jsxFileName = \"D:\\\\websites\\\\job-board-platform\\\\frontend\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { getAllJobs, saveJob, unsaveJob, checkIfJobSaved, getRecommendedJobs, getSubscriptionStatus } from '../services/api';\nimport { getMyProfile } from '../services/api';\nimport NotificationBell from '../components/NotificationBell';\nimport DarkModeToggle from '../components/DarkModeToggle';\nimport AvatarDisplay from '../components/AvatarDisplay';\nimport ProfileDropdown from '../components/ProfileDropdown';\nimport ApplicationCounter from '../components/ApplicationCounter';\nimport NativeAd from '../components/NativeAd';\nimport { toast } from 'sonner';\nimport Navbar from '../components/Navbar';\n\n// Helper function for match badge colors\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getMatchLevel = percentage => {\n  if (percentage >= 85) return {\n    level: 'Excellent',\n    color: 'text-green-600 dark:text-green-400',\n    bgColor: 'bg-green-100 dark:bg-green-900'\n  };\n  if (percentage >= 70) return {\n    level: 'Great',\n    color: 'text-blue-600 dark:text-blue-400',\n    bgColor: 'bg-blue-100 dark:bg-blue-900'\n  };\n  if (percentage >= 55) return {\n    level: 'Good',\n    color: 'text-yellow-600 dark:text-yellow-400',\n    bgColor: 'bg-yellow-100 dark:bg-yellow-900'\n  };\n  if (percentage >= 40) return {\n    level: 'Fair',\n    color: 'text-orange-600 dark:text-orange-400',\n    bgColor: 'bg-orange-100 dark:bg-orange-900'\n  };\n  return {\n    level: 'Low',\n    color: 'text-gray-600 dark:text-gray-400',\n    bgColor: 'bg-gray-100 dark:bg-gray-700'\n  };\n};\nfunction Home() {\n  _s();\n  const [jobs, setJobs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    user,\n    logout\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [locationFilter, setLocationFilter] = useState('');\n  const [jobTypeFilter, setJobTypeFilter] = useState('');\n  const [workModeFilter, setWorkModeFilter] = useState('');\n  const [savedJobIds, setSavedJobIds] = useState(new Set());\n\n  // Monetization state\n  // const [showUpgradeModal, setShowUpgradeModal] = useState(false); // Moved to Navbar\n  const [isPremium, setIsPremium] = useState(false);\n\n  // AI Matching state\n  const [sortBy, setSortBy] = useState('recommended'); // 'recommended' or 'recent'\n  const [showMatchInfo, setShowMatchInfo] = useState(false);\n  const stripHtmlAndTruncate = (html, maxLength = 150) => {\n    const text = html.replace(/<[^>]*>/g, '').replace(/&nbsp;/g, ' ').trim();\n    return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\n  };\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const JOBS_PER_PAGE = 12;\n  useEffect(() => {\n    fetchJobs(1, false);\n  }, [user, sortBy]); // Add sortBy as dependency\n\n  useEffect(() => {\n    setCurrentPage(1);\n    fetchJobs(1, false); // Reset to page 1 when filters change\n  }, [searchTerm, locationFilter, jobTypeFilter, workModeFilter]);\n  useEffect(() => {\n    if (jobs.length > 0 && user && user.user_type === 'job_seeker') {\n      checkSavedJobs(jobs);\n    }\n  }, [jobs, user]);\n\n  // Check subscription status\n  useEffect(() => {\n    if (user && user.user_type === 'job_seeker') {\n      getSubscriptionStatus().then(res => {\n        setIsPremium(res.data.subscription.tier === 'premium');\n      }).catch(console.error);\n    }\n  }, [user]);\n  const fetchJobs = async (page = 1, append = false) => {\n    try {\n      if (!append) setLoading(true);else setLoadingMore(true);\n      const params = {\n        page,\n        limit: JOBS_PER_PAGE\n      };\n      if (locationFilter) params.location = locationFilter;\n      if (jobTypeFilter) params.job_type = jobTypeFilter;\n      if (workModeFilter) params.work_mode = workModeFilter;\n      if (searchTerm) params.search = searchTerm;\n\n      // Use backend AI matching when in \"recommended\" mode and user has profile\n      const useBackendMatching = sortBy === 'recommended' && showAIFeatures && (user === null || user === void 0 ? void 0 : user.user_type) === 'job_seeker';\n      const response = useBackendMatching ? await getRecommendedJobs(params) // Backend AI matching\n      : await getAllJobs(params); // Regular jobs\n\n      const newJobs = response.data.jobs;\n      const pagination = response.data.pagination;\n      if (append) {\n        setJobs(prev => [...prev, ...newJobs]);\n      } else {\n        setJobs(newJobs);\n      }\n      setCurrentPage(pagination.currentPage);\n      setTotalPages(pagination.totalPages);\n      setHasMore(pagination.hasMore);\n      setLoading(false);\n      setLoadingMore(false);\n    } catch (error) {\n      console.error('Error fetching jobs:', error);\n      setLoading(false);\n      setLoadingMore(false);\n    }\n  };\n  const checkSavedJobs = async jobs => {\n    if (!user || user.user_type !== 'job_seeker') return;\n    try {\n      const savedIds = new Set();\n      for (const job of jobs) {\n        const response = await checkIfJobSaved(job.id);\n        if (response.data.isSaved) {\n          savedIds.add(job.id);\n        }\n      }\n      setSavedJobIds(savedIds);\n    } catch (error) {\n      console.error('Error checking saved jobs:', error);\n    }\n  };\n  const clearFilters = () => {\n    setSearchTerm('');\n    setLocationFilter('');\n    setJobTypeFilter('');\n    setWorkModeFilter('');\n  };\n  const handleApply = jobId => {\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (user.user_type !== 'job_seeker') {\n      toast.error('Only job seekers can apply to jobs');\n      return;\n    }\n    navigate(`/apply/${jobId}`);\n  };\n  const handleSaveJob = async (e, jobId) => {\n    e.stopPropagation();\n    if (!user) {\n      navigate('/login');\n      return;\n    }\n    if (user.user_type !== 'job_seeker') {\n      toast.error('Only job seekers can save jobs');\n      return;\n    }\n    try {\n      if (savedJobIds.has(jobId)) {\n        await unsaveJob(jobId);\n        setSavedJobIds(prev => {\n          const newSet = new Set(prev);\n          newSet.delete(jobId);\n          return newSet;\n        });\n      } else {\n        await saveJob(jobId);\n        setSavedJobIds(prev => new Set(prev).add(jobId));\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error saving job');\n    }\n  };\n  const userTypeDisplay = user ? user.user_type === 'recruiter' ? '[Recruiter]' : '[Freelancer]' : '';\n  const firstName = user ? user.full_name.split(' ')[0] : '';\n  const showAIFeatures = user && user.user_type === 'job_seeker';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"bg-gradient-to-r from-blue-500 to-blue-700 dark:from-blue-800 dark:to-blue-900 text-white py-12 sm:py-20 transition-colors\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto px-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl sm:text-5xl font-bold mb-4\",\n          children: \"Find Your Dream Job\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg sm:text-xl\",\n          children: \"Connect with top companies and start your career journey today\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), user && user.user_type === 'job_seeker' && !isPremium && !showAIFeatures && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container mx-auto px-4 py-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-purple-500 to-pink-500 dark:from-purple-800 dark:to-pink-800 rounded-lg shadow-md p-6 text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-4xl\",\n            children: \"\\uD83E\\uDD16\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold mb-2\",\n              children: \"Get AI-Powered Job Recommendations!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-4\",\n              children: \"Complete your profile to unlock personalized job matches based on your skills, experience, and preferences.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/profile'),\n              className: \"px-6 py-3 bg-white text-purple-600 dark:text-purple-800 rounded-lg hover:bg-gray-100 transition font-semibold\",\n              children: \"Complete Your Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container mx-auto px-4 py-6 sm:py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 sm:p-6 mb-6 transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100\",\n            children: \"Search & Filter Jobs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), showAIFeatures && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSortBy('recommended'),\n              className: `px-3 py-1.5 rounded-lg text-sm font-semibold transition ${sortBy === 'recommended' ? 'bg-primary dark:bg-blue-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'}`,\n              children: \"\\uD83E\\uDD16 Recommended\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setSortBy('recent'),\n              className: `px-3 py-1.5 rounded-lg text-sm font-semibold transition ${sortBy === 'recent' ? 'bg-primary dark:bg-blue-600 text-white' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'}`,\n              children: \"\\uD83D\\uDD52 Recent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:col-span-2\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search by title, company...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Location...\",\n              value: locationFilter,\n              onChange: e => setLocationFilter(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: jobTypeFilter,\n              onChange: e => setJobTypeFilter(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All Job Types\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"full-time\",\n                children: \"Full-time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"part-time\",\n                children: \"Part-time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"contract\",\n                children: \"Contract\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"flexible\",\n                children: \"Flexible\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: workModeFilter,\n              onChange: e => setWorkModeFilter(e.target.value),\n              className: \"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All Work Modes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"on-site\",\n                children: \"On-site\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"remote\",\n                children: \"Remote\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"hybrid\",\n                children: \"Hybrid\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), (searchTerm || locationFilter || jobTypeFilter || workModeFilter) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 dark:text-gray-400\",\n            children: [\"Page \", currentPage, \" of \", totalPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearFilters,\n            className: \"text-sm text-primary dark:text-blue-400 hover:underline\",\n            children: \"Clear all filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container mx-auto px-4 pb-8 sm:pb-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-gray-800 dark:text-gray-100\",\n        children: sortBy === 'recommended' && showAIFeatures ? 'ðŸ¤– Recommended For You' : 'All Jobs'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 dark:text-gray-400\",\n        children: \"Loading jobs...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this) : jobs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 p-8 rounded-lg shadow text-center transition-colors\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-400 mb-4\",\n          children: jobs.length === 0 ? 'No jobs available at the moment.' : 'No jobs match your search criteria.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this), jobs.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearFilters,\n          className: \"px-6 py-2 bg-primary dark:bg-blue-600 text-white rounded-lg hover:bg-blue-600 dark:hover:bg-blue-700 transition\",\n          children: \"Clear Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: jobs.map((job, index) => {\n          // Backend already provides match_score and match_reasons\n          const matchScore = job.match_score || 0;\n          const matchReasons = job.match_reasons || [];\n          const matchLevel = matchScore > 0 ? getMatchLevel(matchScore) : null;\n          const jobCard = /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-xl transition relative flex flex-col\",\n            children: [user && user.user_type === 'job_seeker' && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: e => handleSaveJob(e, job.id),\n              className: \"absolute top-4 right-4 text-2xl hover:scale-110 transition z-10\",\n              title: savedJobIds.has(job.id) ? 'Unsave job' : 'Save job',\n              children: savedJobIds.has(job.id) ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6 text-red-500\",\n                fill: \"currentColor\",\n                viewBox: \"0 0 20 20\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fillRule: \"evenodd\",\n                  d: \"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\",\n                  clipRule: \"evenodd\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-6 h-6 text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 21\n            }, this), showAIFeatures && matchScore > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold mb-3 ${matchLevel.bgColor} ${matchLevel.color} w-fit`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [matchScore, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [matchLevel.level, \" Match\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl font-bold text-gray-800 dark:text-gray-100 mb-2 pr-8\",\n              children: job.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-primary dark:text-blue-400 font-semibold mb-2\",\n              children: job.company\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-gray-600 dark:text-gray-400 mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-2\",\n                children: \"\\uD83D\\uDCCD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: job.location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-block bg-blue-100 dark:bg-blue-900 text-primary dark:text-blue-300 px-3 py-1 rounded-full text-sm w-fit\",\n                children: job.job_type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this), job.work_mode && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-block px-3 py-1 rounded-full text-sm w-fit ${job.work_mode === 'remote' ? 'bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300' : job.work_mode === 'hybrid' ? 'bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300' : 'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300'}`,\n                children: job.work_mode === 'remote' ? 'ðŸ  Remote' : job.work_mode === 'hybrid' ? 'ðŸ”„ Hybrid' : 'ðŸ¢ On-site'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this), job.salary_range && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-secondary dark:text-green-400 font-semibold mb-3\",\n              children: [\"\\uD83D\\uDCB0 \", job.salary_range]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 dark:text-gray-400 mb-4 flex-grow\",\n              children: stripHtmlAndTruncate(job.description, 80)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 19\n            }, this), showAIFeatures && matchReasons.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs font-semibold text-blue-800 dark:text-blue-300 mb-2\",\n                children: \"Why this job:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-1\",\n                children: matchReasons.map((reason, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"text-xs text-blue-700 dark:text-blue-400 flex items-start gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2713\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: reason\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 29\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleApply(job.id),\n              className: \"w-full bg-primary dark:bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-600 dark:hover:bg-blue-700 transition font-semibold\",\n              children: \"Apply Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 19\n            }, this)]\n          }, job.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 17\n          }, this);\n\n          // Inject Native Ad after the 2nd item (index 1) for non-premium users\n          if (index === 1 && (user === null || user === void 0 ? void 0 : user.user_type) === 'job_seeker' && !isPremium) {\n            return /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [jobCard, jobCard, /*#__PURE__*/_jsxDEV(NativeAd, {\n                onUpgradeClick: () => window.dispatchEvent(new Event('open-upgrade-modal'))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 21\n              }, this)]\n            }, `group - ${job.id} `, true, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 19\n            }, this);\n          }\n          return jobCard;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this), !loading && hasMore && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fetchJobs(currentPage + 1, true),\n          disabled: loadingMore,\n          className: \"px-8 py-3 bg-primary dark:bg-blue-600 text-white rounded-lg hover:bg-blue-600 dark:hover:bg-blue-700 transition font-semibold disabled:opacity-50\",\n          children: loadingMore ? 'Loading...' : `Load More Jobs(${currentPage} of ${totalPages})`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"BbP+al5tej9Y6NRN7PdDKYZ2lSM=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","AuthContext","getAllJobs","saveJob","unsaveJob","checkIfJobSaved","getRecommendedJobs","getSubscriptionStatus","getMyProfile","NotificationBell","DarkModeToggle","AvatarDisplay","ProfileDropdown","ApplicationCounter","NativeAd","toast","Navbar","jsxDEV","_jsxDEV","getMatchLevel","percentage","level","color","bgColor","Home","_s","jobs","setJobs","loading","setLoading","user","logout","navigate","searchTerm","setSearchTerm","locationFilter","setLocationFilter","jobTypeFilter","setJobTypeFilter","workModeFilter","setWorkModeFilter","savedJobIds","setSavedJobIds","Set","isPremium","setIsPremium","sortBy","setSortBy","showMatchInfo","setShowMatchInfo","stripHtmlAndTruncate","html","maxLength","text","replace","trim","length","substring","currentPage","setCurrentPage","totalPages","setTotalPages","hasMore","setHasMore","loadingMore","setLoadingMore","JOBS_PER_PAGE","fetchJobs","user_type","checkSavedJobs","then","res","data","subscription","tier","catch","console","error","page","append","params","limit","location","job_type","work_mode","search","useBackendMatching","showAIFeatures","response","newJobs","pagination","prev","savedIds","job","id","isSaved","add","clearFilters","handleApply","jobId","handleSaveJob","e","stopPropagation","has","newSet","delete","_error$response","_error$response$data","userTypeDisplay","firstName","full_name","split","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","target","map","index","matchScore","match_score","matchReasons","match_reasons","matchLevel","jobCard","title","fill","viewBox","fillRule","d","clipRule","stroke","strokeLinecap","strokeLinejoin","strokeWidth","company","salary_range","description","reason","idx","Fragment","onUpgradeClick","window","dispatchEvent","Event","disabled","_c","$RefreshReg$"],"sources":["D:/websites/job-board-platform/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { getAllJobs, saveJob, unsaveJob, checkIfJobSaved, getRecommendedJobs, getSubscriptionStatus } from '../services/api';\r\nimport { getMyProfile } from '../services/api';\r\nimport NotificationBell from '../components/NotificationBell';\r\nimport DarkModeToggle from '../components/DarkModeToggle';\r\nimport AvatarDisplay from '../components/AvatarDisplay';\r\nimport ProfileDropdown from '../components/ProfileDropdown';\r\nimport ApplicationCounter from '../components/ApplicationCounter';\r\nimport NativeAd from '../components/NativeAd';\r\nimport { toast } from 'sonner';\r\nimport Navbar from '../components/Navbar';\r\n\r\n// Helper function for match badge colors\r\nconst getMatchLevel = (percentage) => {\r\n  if (percentage >= 85) return { level: 'Excellent', color: 'text-green-600 dark:text-green-400', bgColor: 'bg-green-100 dark:bg-green-900' };\r\n  if (percentage >= 70) return { level: 'Great', color: 'text-blue-600 dark:text-blue-400', bgColor: 'bg-blue-100 dark:bg-blue-900' };\r\n  if (percentage >= 55) return { level: 'Good', color: 'text-yellow-600 dark:text-yellow-400', bgColor: 'bg-yellow-100 dark:bg-yellow-900' };\r\n  if (percentage >= 40) return { level: 'Fair', color: 'text-orange-600 dark:text-orange-400', bgColor: 'bg-orange-100 dark:bg-orange-900' };\r\n  return { level: 'Low', color: 'text-gray-600 dark:text-gray-400', bgColor: 'bg-gray-100 dark:bg-gray-700' };\r\n};\r\nfunction Home() {\r\n  const [jobs, setJobs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { user, logout } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [locationFilter, setLocationFilter] = useState('');\r\n  const [jobTypeFilter, setJobTypeFilter] = useState('');\r\n  const [workModeFilter, setWorkModeFilter] = useState('');\r\n  const [savedJobIds, setSavedJobIds] = useState(new Set());\r\n\r\n  // Monetization state\r\n  // const [showUpgradeModal, setShowUpgradeModal] = useState(false); // Moved to Navbar\r\n  const [isPremium, setIsPremium] = useState(false);\r\n\r\n  // AI Matching state\r\n  const [sortBy, setSortBy] = useState('recommended'); // 'recommended' or 'recent'\r\n  const [showMatchInfo, setShowMatchInfo] = useState(false);\r\n  const stripHtmlAndTruncate = (html, maxLength = 150) => {\r\n    const text = html.replace(/<[^>]*>/g, '').replace(/&nbsp;/g, ' ').trim();\r\n    return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\r\n  };\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const JOBS_PER_PAGE = 12;\r\n\r\n  useEffect(() => {\r\n    fetchJobs(1, false);\r\n  }, [user, sortBy]); // Add sortBy as dependency\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n    fetchJobs(1, false); // Reset to page 1 when filters change\r\n  }, [searchTerm, locationFilter, jobTypeFilter, workModeFilter]);\r\n\r\n  useEffect(() => {\r\n    if (jobs.length > 0 && user && user.user_type === 'job_seeker') {\r\n      checkSavedJobs(jobs);\r\n    }\r\n  }, [jobs, user]);\r\n\r\n  // Check subscription status\r\n  useEffect(() => {\r\n    if (user && user.user_type === 'job_seeker') {\r\n      getSubscriptionStatus().then(res => {\r\n        setIsPremium(res.data.subscription.tier === 'premium');\r\n      }).catch(console.error);\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchJobs = async (page = 1, append = false) => {\r\n    try {\r\n      if (!append) setLoading(true);\r\n      else setLoadingMore(true);\r\n\r\n      const params = {\r\n        page,\r\n        limit: JOBS_PER_PAGE\r\n      };\r\n\r\n      if (locationFilter) params.location = locationFilter;\r\n      if (jobTypeFilter) params.job_type = jobTypeFilter;\r\n      if (workModeFilter) params.work_mode = workModeFilter;\r\n      if (searchTerm) params.search = searchTerm;\r\n\r\n      // Use backend AI matching when in \"recommended\" mode and user has profile\r\n      const useBackendMatching = sortBy === 'recommended' && showAIFeatures && user?.user_type === 'job_seeker';\r\n\r\n      const response = useBackendMatching\r\n        ? await getRecommendedJobs(params)  // Backend AI matching\r\n        : await getAllJobs(params);          // Regular jobs\r\n\r\n      const newJobs = response.data.jobs;\r\n      const pagination = response.data.pagination;\r\n\r\n      if (append) {\r\n        setJobs(prev => [...prev, ...newJobs]);\r\n      } else {\r\n        setJobs(newJobs);\r\n      }\r\n\r\n      setCurrentPage(pagination.currentPage);\r\n      setTotalPages(pagination.totalPages);\r\n      setHasMore(pagination.hasMore);\r\n      setLoading(false);\r\n      setLoadingMore(false);\r\n    } catch (error) {\r\n      console.error('Error fetching jobs:', error);\r\n      setLoading(false);\r\n      setLoadingMore(false);\r\n    }\r\n  };\r\n\r\n  const checkSavedJobs = async (jobs) => {\r\n    if (!user || user.user_type !== 'job_seeker') return;\r\n\r\n    try {\r\n      const savedIds = new Set();\r\n      for (const job of jobs) {\r\n        const response = await checkIfJobSaved(job.id);\r\n        if (response.data.isSaved) {\r\n          savedIds.add(job.id);\r\n        }\r\n      }\r\n      setSavedJobIds(savedIds);\r\n    } catch (error) {\r\n      console.error('Error checking saved jobs:', error);\r\n    }\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setSearchTerm('');\r\n    setLocationFilter('');\r\n    setJobTypeFilter('');\r\n    setWorkModeFilter('');\r\n  };\r\n\r\n  const handleApply = (jobId) => {\r\n    if (!user) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    if (user.user_type !== 'job_seeker') {\r\n      toast.error('Only job seekers can apply to jobs');\r\n      return;\r\n    }\r\n    navigate(`/apply/${jobId}`);\r\n  };\r\n\r\n  const handleSaveJob = async (e, jobId) => {\r\n    e.stopPropagation();\r\n\r\n    if (!user) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    if (user.user_type !== 'job_seeker') {\r\n      toast.error('Only job seekers can save jobs');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (savedJobIds.has(jobId)) {\r\n        await unsaveJob(jobId);\r\n        setSavedJobIds(prev => {\r\n          const newSet = new Set(prev);\r\n          newSet.delete(jobId);\r\n          return newSet;\r\n        });\r\n      } else {\r\n        await saveJob(jobId);\r\n        setSavedJobIds(prev => new Set(prev).add(jobId));\r\n      }\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.error || 'Error saving job');\r\n    }\r\n  };\r\n\r\n  const userTypeDisplay = user ? (user.user_type === 'recruiter' ? '[Recruiter]' : '[Freelancer]') : '';\r\n  const firstName = user ? user.full_name.split(' ')[0] : '';\r\n  const showAIFeatures = user && user.user_type === 'job_seeker';\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors\">\r\n      {/* Navigation Bar */}\r\n      {/* Navigation Bar */}\r\n      <Navbar />\r\n\r\n      {/* Hero Section */}\r\n      <section className=\"bg-gradient-to-r from-blue-500 to-blue-700 dark:from-blue-800 dark:to-blue-900 text-white py-12 sm:py-20 transition-colors\">\r\n        <div className=\"container mx-auto px-4 text-center\">\r\n          <h1 className=\"text-3xl sm:text-5xl font-bold mb-4\">Find Your Dream Job</h1>\r\n          <p className=\"text-lg sm:text-xl\">Connect with top companies and start your career journey today</p>\r\n        </div>\r\n      </section>\r\n\r\n      {/* AI Profile Prompt */}\r\n      {user && user.user_type === 'job_seeker' && !isPremium && !showAIFeatures && (\r\n        <section className=\"container mx-auto px-4 py-6\">\r\n          <div className=\"bg-gradient-to-r from-purple-500 to-pink-500 dark:from-purple-800 dark:to-pink-800 rounded-lg shadow-md p-6 text-white\">\r\n            {/* Content same as before */}\r\n            <div className=\"flex items-start gap-4\">\r\n              <span className=\"text-4xl\">ðŸ¤–</span>\r\n              <div className=\"flex-1\">\r\n                <h3 className=\"text-xl font-bold mb-2\">Get AI-Powered Job Recommendations!</h3>\r\n                <p className=\"mb-4\">Complete your profile to unlock personalized job matches based on your skills, experience, and preferences.</p>\r\n                <button\r\n                  onClick={() => navigate('/profile')}\r\n                  className=\"px-6 py-3 bg-white text-purple-600 dark:text-purple-800 rounded-lg hover:bg-gray-100 transition font-semibold\"\r\n                >\r\n                  Complete Your Profile\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* Search & Filters */}\r\n      <section className=\"container mx-auto px-4 py-6 sm:py-8\">\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 sm:p-6 mb-6 transition-colors\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h2 className=\"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100\">Search & Filter Jobs</h2>\r\n\r\n            {/* Sort Toggle - Only show if AI features are enabled (setup pending for free users logic later maybe) */}\r\n            {showAIFeatures && (\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={() => setSortBy('recommended')}\r\n                  className={`px-3 py-1.5 rounded-lg text-sm font-semibold transition ${sortBy === 'recommended'\r\n                    ? 'bg-primary dark:bg-blue-600 text-white'\r\n                    : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'\r\n                    }`}\r\n                >\r\n                  ðŸ¤– Recommended\r\n                </button>\r\n                <button\r\n                  onClick={() => setSortBy('recent')}\r\n                  className={`px-3 py-1.5 rounded-lg text-sm font-semibold transition ${sortBy === 'recent'\r\n                    ? 'bg-primary dark:bg-blue-600 text-white'\r\n                    : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'\r\n                    }`}\r\n                >\r\n                  ðŸ•’ Recent\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 sm:gap-4\">\r\n            <div className=\"sm:col-span-2\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search by title, company...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Location...\"\r\n                value={locationFilter}\r\n                onChange={(e) => setLocationFilter(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <select\r\n                value={jobTypeFilter}\r\n                onChange={(e) => setJobTypeFilter(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\r\n              >\r\n                <option value=\"\">All Job Types</option>\r\n                <option value=\"full-time\">Full-time</option>\r\n                <option value=\"part-time\">Part-time</option>\r\n                <option value=\"contract\">Contract</option>\r\n                <option value=\"flexible\">Flexible</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <select\r\n                value={workModeFilter}\r\n                onChange={(e) => setWorkModeFilter(e.target.value)}\r\n                className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100\"\r\n              >\r\n                <option value=\"\">All Work Modes</option>\r\n                <option value=\"on-site\">On-site</option>\r\n                <option value=\"remote\">Remote</option>\r\n                <option value=\"hybrid\">Hybrid</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          {(searchTerm || locationFilter || jobTypeFilter || workModeFilter) && (\r\n            <div className=\"mt-4 flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4\">\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                Page {currentPage} of {totalPages}\r\n              </p>\r\n              <button\r\n                onClick={clearFilters}\r\n                className=\"text-sm text-primary dark:text-blue-400 hover:underline\"\r\n              >\r\n                Clear all filters\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      {/* Jobs Listing */}\r\n      <section className=\"container mx-auto px-4 pb-8 sm:pb-12\">\r\n        <h2 className=\"text-2xl sm:text-3xl font-bold mb-6 sm:mb-8 text-gray-800 dark:text-gray-100\">\r\n          {sortBy === 'recommended' && showAIFeatures ? 'ðŸ¤– Recommended For You' : 'All Jobs'}\r\n        </h2>\r\n\r\n        {loading ? (\r\n          <p className=\"text-gray-600 dark:text-gray-400\">Loading jobs...</p>\r\n        ) : jobs.length === 0 ? (\r\n          <div className=\"bg-white dark:bg-gray-800 p-8 rounded-lg shadow text-center transition-colors\">\r\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\r\n              {jobs.length === 0 ? 'No jobs available at the moment.' : 'No jobs match your search criteria.'}\r\n            </p>\r\n            {jobs.length > 0 && (\r\n              <button\r\n                onClick={clearFilters}\r\n                className=\"px-6 py-2 bg-primary dark:bg-blue-600 text-white rounded-lg hover:bg-blue-600 dark:hover:bg-blue-700 transition\"\r\n              >\r\n                Clear Filters\r\n              </button>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            {jobs.map((job, index) => {\r\n              // Backend already provides match_score and match_reasons\r\n              const matchScore = job.match_score || 0;\r\n              const matchReasons = job.match_reasons || [];\r\n              const matchLevel = matchScore > 0 ? getMatchLevel(matchScore) : null;\r\n\r\n              const jobCard = (\r\n                <div key={job.id} className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 hover:shadow-xl transition relative flex flex-col\">\r\n                  {/* Save Button */}\r\n                  {user && user.user_type === 'job_seeker' && (\r\n                    <button\r\n                      onClick={(e) => handleSaveJob(e, job.id)}\r\n                      className=\"absolute top-4 right-4 text-2xl hover:scale-110 transition z-10\"\r\n                      title={savedJobIds.has(job.id) ? 'Unsave job' : 'Save job'}\r\n                    >\r\n                      {savedJobIds.has(job.id) ? (\r\n                        <svg className=\"w-6 h-6 text-red-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                          <path fillRule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clipRule=\"evenodd\" />\r\n                        </svg>\r\n                      ) : (\r\n                        <svg className=\"w-6 h-6 text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\r\n                        </svg>\r\n                      )}\r\n                    </button>\r\n                  )}\r\n\r\n                  {/* AI Match Badge */}\r\n                  {showAIFeatures && matchScore > 0 && (\r\n                    <div className={`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold mb-3 ${matchLevel.bgColor} ${matchLevel.color} w-fit`}>\r\n                      <span>{matchScore}%</span>\r\n                      <span>{matchLevel.level} Match</span>\r\n                    </div>\r\n                  )}\r\n\r\n                  <h3 className=\"text-xl font-bold text-gray-800 dark:text-gray-100 mb-2 pr-8\">{job.title}</h3>\r\n                  <p className=\"text-primary dark:text-blue-400 font-semibold mb-2\">{job.company}</p>\r\n                  <div className=\"flex items-center text-gray-600 dark:text-gray-400 mb-2\">\r\n                    <span className=\"mr-2\">ðŸ“</span>\r\n                    <span>{job.location}</span>\r\n                  </div>\r\n                  <div className=\"flex gap-2 mb-3\">\r\n                    <span className=\"inline-block bg-blue-100 dark:bg-blue-900 text-primary dark:text-blue-300 px-3 py-1 rounded-full text-sm w-fit\">\r\n                      {job.job_type}\r\n                    </span>\r\n                    {job.work_mode && (\r\n                      <span className={`inline-block px-3 py-1 rounded-full text-sm w-fit ${job.work_mode === 'remote' ? 'bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300' :\r\n                        job.work_mode === 'hybrid' ? 'bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300' :\r\n                          'bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300'\r\n                        }`}>\r\n                        {job.work_mode === 'remote' ? 'ðŸ  Remote' :\r\n                          job.work_mode === 'hybrid' ? 'ðŸ”„ Hybrid' :\r\n                            'ðŸ¢ On-site'}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  {job.salary_range && (\r\n                    <p className=\"text-secondary dark:text-green-400 font-semibold mb-3\">ðŸ’° {job.salary_range}</p>\r\n                  )}\r\n                  <p className=\"text-gray-600 dark:text-gray-400 mb-4 flex-grow\">\r\n                    {stripHtmlAndTruncate(job.description, 80)}\r\n                  </p>\r\n\r\n                  {/* Match Reasons */}\r\n                  {showAIFeatures && matchReasons.length > 0 && (\r\n                    <div className=\"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800\">\r\n                      <p className=\"text-xs font-semibold text-blue-800 dark:text-blue-300 mb-2\">Why this job:</p>\r\n                      <ul className=\"space-y-1\">\r\n                        {matchReasons.map((reason, idx) => (\r\n                          <li key={idx} className=\"text-xs text-blue-700 dark:text-blue-400 flex items-start gap-2\">\r\n                            <span>âœ“</span>\r\n                            <span>{reason}</span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  )}\r\n\r\n                  <button\r\n                    onClick={() => handleApply(job.id)}\r\n                    className=\"w-full bg-primary dark:bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-600 dark:hover:bg-blue-700 transition font-semibold\"\r\n                  >\r\n                    Apply Now\r\n                  </button>\r\n                </div>\r\n              );\r\n\r\n              // Inject Native Ad after the 2nd item (index 1) for non-premium users\r\n              if (index === 1 && user?.user_type === 'job_seeker' && !isPremium) {\r\n                return (\r\n                  <React.Fragment key={`group - ${job.id} `}>\r\n                    {jobCard}\r\n                    {jobCard}\r\n                    {/* Native Ad triggers global modal via event or just redirects? For now assume it communicates status via Navbar context later if needed, or we keep local handler but modal is global? \r\n                        The global Navbar handles the modal. The NativeAd button needs to trigger it. \r\n                        Actually, NativeAd has a button. We might need a way to open the global modal from here. \r\n                        For this refactor, let's keep it simple: The NativeAd button might need to broadcast an event or we export a context. \r\n                        BUT, ApplicationCounter was the main request. NativeAd 'Upgrade' button can just navigate to a pricing page or we leave it for now.\r\n                        Let's check NativeAd props. It accepts onUpgradeClick.\r\n                        We can't easily open the modal in Navbar from here without Context.\r\n                        QUICK FIX: Dispatch a custom event 'open-upgrade-modal' that Navbar listens to. \r\n                    */}\r\n                    <NativeAd onUpgradeClick={() => window.dispatchEvent(new Event('open-upgrade-modal'))} />\r\n                  </React.Fragment>\r\n                );\r\n              }\r\n\r\n              return jobCard;\r\n            })}\r\n          </div>\r\n        )}\r\n        {/* Load More Button */}\r\n        {!loading && hasMore && (\r\n          <div className=\"flex justify-center mt-8\">\r\n            <button\r\n              onClick={() => fetchJobs(currentPage + 1, true)}\r\n              disabled={loadingMore}\r\n              className=\"px-8 py-3 bg-primary dark:bg-blue-600 text-white rounded-lg hover:bg-blue-600 dark:hover:bg-blue-700 transition font-semibold disabled:opacity-50\"\r\n            >\r\n              {loadingMore ? 'Loading...' : `Load More Jobs(${currentPage} of ${totalPages})`}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </section>\r\n\r\n      {/* Premium Upgrade Modal logic moved to Navbar */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}