{"ast":null,"code":"// AI-Powered Job Matching Algorithm\n// This calculates how well a job matches a user's profile\n\n/**\r\n * Main function to calculate job match score\r\n * @param {Object} userProfile - User's profile data\r\n * @param {Object} job - Job posting data\r\n * @returns {Object} - Match score and detailed breakdown\r\n */\nexport const calculateJobMatch = (userProfile, job) => {\n  if (!userProfile || !job) {\n    return {\n      score: 0,\n      percentage: 0,\n      breakdown: {},\n      reasons: [],\n      warnings: []\n    };\n  }\n  const breakdown = {};\n  const reasons = [];\n  const warnings = [];\n\n  // 1. SKILLS MATCH (35% weight)\n  const skillsMatch = calculateSkillsMatch(userProfile.skills || [], job.requirements || '');\n  breakdown.skills = skillsMatch;\n  if (skillsMatch.score > 70) {\n    reasons.push(`Strong skills match: ${skillsMatch.matchedCount} relevant skills`);\n  } else if (skillsMatch.score > 40) {\n    reasons.push(`Moderate skills match: ${skillsMatch.matchedCount} relevant skills`);\n  } else if (skillsMatch.score > 0) {\n    warnings.push(`Limited skills match: Consider developing more relevant skills`);\n  }\n\n  // 2. EXPERIENCE MATCH (25% weight)\n  const experienceMatch = calculateExperienceMatch(userProfile.experience || [], job.requirements || '', job.title || '');\n  breakdown.experience = experienceMatch;\n  if (experienceMatch.score > 70) {\n    reasons.push(`Your experience aligns well with this role`);\n  } else if (experienceMatch.score < 30) {\n    warnings.push(`This role may require more experience than you currently have`);\n  }\n\n  // 3. LOCATION MATCH (15% weight)\n  const locationMatch = calculateLocationMatch(userProfile.location || '', job.location || '', job.job_type || '');\n  breakdown.location = locationMatch;\n  if (locationMatch.score === 100) {\n    reasons.push(`Perfect location match`);\n  } else if (locationMatch.score > 50) {\n    reasons.push(`Good location compatibility`);\n  }\n\n  // 4. JOB TYPE MATCH (10% weight)\n  const jobTypeMatch = calculateJobTypeMatch(userProfile.availability || '', job.job_type || '');\n  breakdown.jobType = jobTypeMatch;\n\n  // 5. SALARY MATCH (10% weight)\n  const salaryMatch = calculateSalaryMatch(userProfile.expected_salary || '', job.salary_range || '');\n  breakdown.salary = salaryMatch;\n  if (salaryMatch.score > 70) {\n    reasons.push(`Salary aligns with your expectations`);\n  } else if (salaryMatch.score < 30 && salaryMatch.score > 0) {\n    warnings.push(`Salary may be below your expectations`);\n  }\n\n  // 6. EDUCATION MATCH (5% weight)\n  const educationMatch = calculateEducationMatch(userProfile.education || [], job.requirements || '');\n  breakdown.education = educationMatch;\n\n  // Calculate weighted total score\n  const totalScore = skillsMatch.score * 0.35 + experienceMatch.score * 0.25 + locationMatch.score * 0.15 + jobTypeMatch.score * 0.10 + salaryMatch.score * 0.10 + educationMatch.score * 0.05;\n  return {\n    score: Math.round(totalScore),\n    percentage: Math.round(totalScore),\n    breakdown,\n    reasons: reasons.slice(0, 3),\n    // Top 3 reasons\n    warnings: warnings.slice(0, 2) // Top 2 warnings\n  };\n};\n\n/**\r\n * Calculate skills match score\r\n */\nconst calculateSkillsMatch = (userSkills, jobRequirements) => {\n  if (!userSkills || userSkills.length === 0) {\n    return {\n      score: 0,\n      matchedCount: 0,\n      matchedSkills: []\n    };\n  }\n  const jobReqLower = jobRequirements.toLowerCase();\n  const matchedSkills = [];\n  let matchCount = 0;\n  userSkills.forEach(skill => {\n    const skillLower = skill.toLowerCase();\n    // Check for exact match or partial match\n    if (jobReqLower.includes(skillLower)) {\n      matchedSkills.push(skill);\n      matchCount++;\n    }\n  });\n\n  // Score based on percentage of user skills that match\n  const matchPercentage = matchCount / Math.max(userSkills.length, 1) * 100;\n\n  // Bonus points if multiple skills match\n  const bonusPoints = Math.min(matchCount * 10, 30);\n  const score = Math.min(matchPercentage + bonusPoints, 100);\n  return {\n    score: Math.round(score),\n    matchedCount: matchCount,\n    matchedSkills\n  };\n};\n\n/**\r\n * Calculate experience match score\r\n */\nconst calculateExperienceMatch = (userExperience, jobRequirements, jobTitle) => {\n  if (!userExperience || userExperience.length === 0) {\n    return {\n      score: 20,\n      yearsOfExperience: 0\n    }; // Base score for no experience\n  }\n\n  // Calculate total years of experience\n  let totalMonths = 0;\n  userExperience.forEach(exp => {\n    if (exp.start_date) {\n      const start = new Date(exp.start_date);\n      const end = exp.current ? new Date() : new Date(exp.end_date || new Date());\n      const months = (end.getFullYear() - start.getFullYear()) * 12 + (end.getMonth() - start.getMonth());\n      totalMonths += Math.max(months, 0);\n    }\n  });\n  const yearsOfExperience = totalMonths / 12;\n\n  // Extract experience requirements from job posting\n  const requirementsLower = (jobRequirements + ' ' + jobTitle).toLowerCase();\n  let requiredYears = 0;\n\n  // Look for patterns like \"5 years\", \"5+ years\", \"3-5 years\"\n  const yearPatterns = [/(\\d+)\\+?\\s*years?/gi, /(\\d+)\\s*-\\s*(\\d+)\\s*years?/gi];\n  yearPatterns.forEach(pattern => {\n    const matches = requirementsLower.match(pattern);\n    if (matches) {\n      const numbers = matches[0].match(/\\d+/g);\n      if (numbers) {\n        requiredYears = Math.max(requiredYears, parseInt(numbers[0]));\n      }\n    }\n  });\n\n  // Check for seniority level indicators\n  let seniorityMultiplier = 1;\n  if (requirementsLower.includes('senior') || requirementsLower.includes('lead')) {\n    seniorityMultiplier = 1.5;\n    requiredYears = Math.max(requiredYears, 5);\n  } else if (requirementsLower.includes('junior') || requirementsLower.includes('entry')) {\n    seniorityMultiplier = 0.5;\n    requiredYears = Math.max(requiredYears, 1);\n  } else if (requirementsLower.includes('mid-level') || requirementsLower.includes('intermediate')) {\n    requiredYears = Math.max(requiredYears, 3);\n  }\n\n  // Calculate score based on experience match\n  let score = 50; // Base score\n\n  if (requiredYears === 0) {\n    // No specific requirement, give points for any experience\n    score = Math.min(50 + yearsOfExperience * 10, 100);\n  } else {\n    const experienceRatio = yearsOfExperience / requiredYears;\n    if (experienceRatio >= 1) {\n      // Has required experience or more\n      score = Math.min(80 + experienceRatio * 10, 100);\n    } else if (experienceRatio >= 0.7) {\n      // Close to required experience\n      score = 60 + experienceRatio * 20;\n    } else {\n      // Below required experience\n      score = 30 + experienceRatio * 30;\n    }\n  }\n\n  // Check for relevant position titles\n  const relevantExperience = userExperience.some(exp => {\n    const positionLower = (exp.position || '').toLowerCase();\n    const titleLower = jobTitle.toLowerCase();\n\n    // Check if position title has similar keywords\n    const titleWords = titleLower.split(' ').filter(w => w.length > 3);\n    return titleWords.some(word => positionLower.includes(word));\n  });\n  if (relevantExperience) {\n    score = Math.min(score + 15, 100);\n  }\n  return {\n    score: Math.round(score),\n    yearsOfExperience: Math.round(yearsOfExperience * 10) / 10\n  };\n};\n\n/**\r\n * Calculate location match score\r\n */\nconst calculateLocationMatch = (userLocation, jobLocation, jobType) => {\n  // Remote jobs always score 100\n  if (jobType && jobType.toLowerCase().includes('remote')) {\n    return {\n      score: 100,\n      reason: 'Remote position'\n    };\n  }\n  if (!userLocation || !jobLocation) {\n    return {\n      score: 50,\n      reason: 'Location not specified'\n    };\n  }\n  const userLoc = userLocation.toLowerCase().trim();\n  const jobLoc = jobLocation.toLowerCase().trim();\n\n  // Exact match\n  if (userLoc === jobLoc) {\n    return {\n      score: 100,\n      reason: 'Exact location match'\n    };\n  }\n\n  // Check if same city\n  const userCity = userLoc.split(',')[0].trim();\n  const jobCity = jobLoc.split(',')[0].trim();\n  if (userCity === jobCity) {\n    return {\n      score: 95,\n      reason: 'Same city'\n    };\n  }\n\n  // Check if same state/region\n  if (userLoc.includes(jobCity) || jobLoc.includes(userCity)) {\n    return {\n      score: 70,\n      reason: 'Same region'\n    };\n  }\n\n  // Check if same country\n  const userCountry = userLoc.split(',').pop().trim();\n  const jobCountry = jobLoc.split(',').pop().trim();\n  if (userCountry === jobCountry) {\n    return {\n      score: 50,\n      reason: 'Same country'\n    };\n  }\n  return {\n    score: 30,\n    reason: 'Different location'\n  };\n};\n\n/**\r\n * Calculate job type match score\r\n */\nconst calculateJobTypeMatch = (userAvailability, jobType) => {\n  if (!userAvailability || !jobType) {\n    return {\n      score: 70\n    }; // Neutral score if not specified\n  }\n  const availLower = userAvailability.toLowerCase();\n  const typeLower = jobType.toLowerCase();\n\n  // Perfect match scenarios\n  if (typeLower.includes('remote') || availLower.includes('remote')) {\n    return {\n      score: 100\n    };\n  }\n  if (availLower.includes('not actively looking') && !availLower.includes('available')) {\n    return {\n      score: 40\n    }; // Lower score if not actively looking\n  }\n  if (availLower.includes('available')) {\n    if (typeLower.includes('full-time') || typeLower.includes('full time')) {\n      return {\n        score: 100\n      };\n    }\n    if (typeLower.includes('part-time') || typeLower.includes('part time')) {\n      return {\n        score: 85\n      };\n    }\n    if (typeLower.includes('contract')) {\n      return {\n        score: 80\n      };\n    }\n  }\n  return {\n    score: 70\n  };\n};\n\n/**\r\n * Calculate salary match score\r\n */\nconst calculateSalaryMatch = (expectedSalary, jobSalaryRange) => {\n  if (!expectedSalary || !jobSalaryRange) {\n    return {\n      score: 70\n    }; // Neutral score if not specified\n  }\n\n  // Extract numbers from strings\n  const extractNumber = str => {\n    const numbers = str.match(/\\d+/g);\n    return numbers ? parseInt(numbers[0]) : 0;\n  };\n  const expected = extractNumber(expectedSalary);\n  const jobSalary = extractNumber(jobSalaryRange);\n  if (expected === 0 || jobSalary === 0) {\n    return {\n      score: 70\n    };\n  }\n  const ratio = jobSalary / expected;\n  if (ratio >= 1) {\n    // Job pays equal or more than expected\n    return {\n      score: 100\n    };\n  } else if (ratio >= 0.9) {\n    // Within 10% of expected\n    return {\n      score: 85\n    };\n  } else if (ratio >= 0.8) {\n    // Within 20% of expected\n    return {\n      score: 70\n    };\n  } else if (ratio >= 0.7) {\n    // Within 30% of expected\n    return {\n      score: 50\n    };\n  } else {\n    // More than 30% below expected\n    return {\n      score: 30\n    };\n  }\n};\n\n/**\r\n * Calculate education match score\r\n */\nconst calculateEducationMatch = (userEducation, jobRequirements) => {\n  if (!userEducation || userEducation.length === 0) {\n    return {\n      score: 50\n    }; // Neutral score for no education\n  }\n  const reqLower = jobRequirements.toLowerCase();\n  let score = 60; // Base score for having education\n\n  // Check for degree requirements\n  const degrees = {\n    'phd': 100,\n    'doctorate': 100,\n    'master': 85,\n    'bachelor': 70,\n    'associate': 60\n  };\n\n  // Find highest degree user has\n  let userHighestDegree = 0;\n  userEducation.forEach(edu => {\n    const degreeLower = (edu.degree || '').toLowerCase();\n    Object.keys(degrees).forEach(degreeType => {\n      if (degreeLower.includes(degreeType)) {\n        userHighestDegree = Math.max(userHighestDegree, degrees[degreeType]);\n      }\n    });\n  });\n\n  // Check what job requires\n  let requiredDegree = 0;\n  Object.keys(degrees).forEach(degreeType => {\n    if (reqLower.includes(degreeType)) {\n      requiredDegree = Math.max(requiredDegree, degrees[degreeType]);\n    }\n  });\n  if (requiredDegree === 0) {\n    // No specific degree required\n    return {\n      score: userHighestDegree || 70\n    };\n  }\n  if (userHighestDegree >= requiredDegree) {\n    return {\n      score: 100\n    };\n  } else if (userHighestDegree > 0) {\n    // Has a degree but lower than required\n    return {\n      score: 60\n    };\n  }\n  return {\n    score: 40\n  };\n};\n\n/**\r\n * Get match level description\r\n */\nexport const getMatchLevel = percentage => {\n  if (percentage >= 85) return {\n    level: 'Excellent',\n    color: 'text-green-600 dark:text-green-400',\n    bgColor: 'bg-green-100 dark:bg-green-900'\n  };\n  if (percentage >= 70) return {\n    level: 'Great',\n    color: 'text-blue-600 dark:text-blue-400',\n    bgColor: 'bg-blue-100 dark:bg-blue-900'\n  };\n  if (percentage >= 55) return {\n    level: 'Good',\n    color: 'text-yellow-600 dark:text-yellow-400',\n    bgColor: 'bg-yellow-100 dark:bg-yellow-900'\n  };\n  if (percentage >= 40) return {\n    level: 'Fair',\n    color: 'text-orange-600 dark:text-orange-400',\n    bgColor: 'bg-orange-100 dark:bg-orange-900'\n  };\n  return {\n    level: 'Low',\n    color: 'text-gray-600 dark:text-gray-400',\n    bgColor: 'bg-gray-100 dark:bg-gray-700'\n  };\n};","map":{"version":3,"names":["calculateJobMatch","userProfile","job","score","percentage","breakdown","reasons","warnings","skillsMatch","calculateSkillsMatch","skills","requirements","push","matchedCount","experienceMatch","calculateExperienceMatch","experience","title","locationMatch","calculateLocationMatch","location","job_type","jobTypeMatch","calculateJobTypeMatch","availability","jobType","salaryMatch","calculateSalaryMatch","expected_salary","salary_range","salary","educationMatch","calculateEducationMatch","education","totalScore","Math","round","slice","userSkills","jobRequirements","length","matchedSkills","jobReqLower","toLowerCase","matchCount","forEach","skill","skillLower","includes","matchPercentage","max","bonusPoints","min","userExperience","jobTitle","yearsOfExperience","totalMonths","exp","start_date","start","Date","end","current","end_date","months","getFullYear","getMonth","requirementsLower","requiredYears","yearPatterns","pattern","matches","match","numbers","parseInt","seniorityMultiplier","experienceRatio","relevantExperience","some","positionLower","position","titleLower","titleWords","split","filter","w","word","userLocation","jobLocation","reason","userLoc","trim","jobLoc","userCity","jobCity","userCountry","pop","jobCountry","userAvailability","availLower","typeLower","expectedSalary","jobSalaryRange","extractNumber","str","expected","jobSalary","ratio","userEducation","reqLower","degrees","userHighestDegree","edu","degreeLower","degree","Object","keys","degreeType","requiredDegree","getMatchLevel","level","color","bgColor"],"sources":["D:/websites/job-board-platform/frontend/src/utils/jobMatchingAlgorithm.js"],"sourcesContent":["// AI-Powered Job Matching Algorithm\r\n// This calculates how well a job matches a user's profile\r\n\r\n/**\r\n * Main function to calculate job match score\r\n * @param {Object} userProfile - User's profile data\r\n * @param {Object} job - Job posting data\r\n * @returns {Object} - Match score and detailed breakdown\r\n */\r\nexport const calculateJobMatch = (userProfile, job) => {\r\n  if (!userProfile || !job) {\r\n    return {\r\n      score: 0,\r\n      percentage: 0,\r\n      breakdown: {},\r\n      reasons: [],\r\n      warnings: []\r\n    };\r\n  }\r\n\r\n  const breakdown = {};\r\n  const reasons = [];\r\n  const warnings = [];\r\n\r\n  // 1. SKILLS MATCH (35% weight)\r\n  const skillsMatch = calculateSkillsMatch(userProfile.skills || [], job.requirements || '');\r\n  breakdown.skills = skillsMatch;\r\n\r\n  if (skillsMatch.score > 70) {\r\n    reasons.push(`Strong skills match: ${skillsMatch.matchedCount} relevant skills`);\r\n  } else if (skillsMatch.score > 40) {\r\n    reasons.push(`Moderate skills match: ${skillsMatch.matchedCount} relevant skills`);\r\n  } else if (skillsMatch.score > 0) {\r\n    warnings.push(`Limited skills match: Consider developing more relevant skills`);\r\n  }\r\n\r\n  // 2. EXPERIENCE MATCH (25% weight)\r\n  const experienceMatch = calculateExperienceMatch(\r\n    userProfile.experience || [],\r\n    job.requirements || '',\r\n    job.title || ''\r\n  );\r\n  breakdown.experience = experienceMatch;\r\n\r\n  if (experienceMatch.score > 70) {\r\n    reasons.push(`Your experience aligns well with this role`);\r\n  } else if (experienceMatch.score < 30) {\r\n    warnings.push(`This role may require more experience than you currently have`);\r\n  }\r\n\r\n  // 3. LOCATION MATCH (15% weight)\r\n  const locationMatch = calculateLocationMatch(\r\n    userProfile.location || '',\r\n    job.location || '',\r\n    job.job_type || ''\r\n  );\r\n  breakdown.location = locationMatch;\r\n\r\n  if (locationMatch.score === 100) {\r\n    reasons.push(`Perfect location match`);\r\n  } else if (locationMatch.score > 50) {\r\n    reasons.push(`Good location compatibility`);\r\n  }\r\n\r\n  // 4. JOB TYPE MATCH (10% weight)\r\n  const jobTypeMatch = calculateJobTypeMatch(\r\n    userProfile.availability || '',\r\n    job.job_type || ''\r\n  );\r\n  breakdown.jobType = jobTypeMatch;\r\n\r\n  // 5. SALARY MATCH (10% weight)\r\n  const salaryMatch = calculateSalaryMatch(\r\n    userProfile.expected_salary || '',\r\n    job.salary_range || ''\r\n  );\r\n  breakdown.salary = salaryMatch;\r\n\r\n  if (salaryMatch.score > 70) {\r\n    reasons.push(`Salary aligns with your expectations`);\r\n  } else if (salaryMatch.score < 30 && salaryMatch.score > 0) {\r\n    warnings.push(`Salary may be below your expectations`);\r\n  }\r\n\r\n  // 6. EDUCATION MATCH (5% weight)\r\n  const educationMatch = calculateEducationMatch(\r\n    userProfile.education || [],\r\n    job.requirements || ''\r\n  );\r\n  breakdown.education = educationMatch;\r\n\r\n  // Calculate weighted total score\r\n  const totalScore = (\r\n    skillsMatch.score * 0.35 +\r\n    experienceMatch.score * 0.25 +\r\n    locationMatch.score * 0.15 +\r\n    jobTypeMatch.score * 0.10 +\r\n    salaryMatch.score * 0.10 +\r\n    educationMatch.score * 0.05\r\n  );\r\n\r\n  return {\r\n    score: Math.round(totalScore),\r\n    percentage: Math.round(totalScore),\r\n    breakdown,\r\n    reasons: reasons.slice(0, 3), // Top 3 reasons\r\n    warnings: warnings.slice(0, 2) // Top 2 warnings\r\n  };\r\n};\r\n\r\n/**\r\n * Calculate skills match score\r\n */\r\nconst calculateSkillsMatch = (userSkills, jobRequirements) => {\r\n  if (!userSkills || userSkills.length === 0) {\r\n    return { score: 0, matchedCount: 0, matchedSkills: [] };\r\n  }\r\n\r\n  const jobReqLower = jobRequirements.toLowerCase();\r\n  const matchedSkills = [];\r\n  let matchCount = 0;\r\n\r\n  userSkills.forEach(skill => {\r\n    const skillLower = skill.toLowerCase();\r\n    // Check for exact match or partial match\r\n    if (jobReqLower.includes(skillLower)) {\r\n      matchedSkills.push(skill);\r\n      matchCount++;\r\n    }\r\n  });\r\n\r\n  // Score based on percentage of user skills that match\r\n  const matchPercentage = (matchCount / Math.max(userSkills.length, 1)) * 100;\r\n\r\n  // Bonus points if multiple skills match\r\n  const bonusPoints = Math.min(matchCount * 10, 30);\r\n\r\n  const score = Math.min(matchPercentage + bonusPoints, 100);\r\n\r\n  return {\r\n    score: Math.round(score),\r\n    matchedCount: matchCount,\r\n    matchedSkills\r\n  };\r\n};\r\n\r\n/**\r\n * Calculate experience match score\r\n */\r\nconst calculateExperienceMatch = (userExperience, jobRequirements, jobTitle) => {\r\n  if (!userExperience || userExperience.length === 0) {\r\n    return { score: 20, yearsOfExperience: 0 }; // Base score for no experience\r\n  }\r\n\r\n  // Calculate total years of experience\r\n  let totalMonths = 0;\r\n  userExperience.forEach(exp => {\r\n    if (exp.start_date) {\r\n      const start = new Date(exp.start_date);\r\n      const end = exp.current ? new Date() : new Date(exp.end_date || new Date());\r\n      const months = (end.getFullYear() - start.getFullYear()) * 12 +\r\n        (end.getMonth() - start.getMonth());\r\n      totalMonths += Math.max(months, 0);\r\n    }\r\n  });\r\n\r\n  const yearsOfExperience = totalMonths / 12;\r\n\r\n  // Extract experience requirements from job posting\r\n  const requirementsLower = (jobRequirements + ' ' + jobTitle).toLowerCase();\r\n  let requiredYears = 0;\r\n\r\n  // Look for patterns like \"5 years\", \"5+ years\", \"3-5 years\"\r\n  const yearPatterns = [\r\n    /(\\d+)\\+?\\s*years?/gi,\r\n    /(\\d+)\\s*-\\s*(\\d+)\\s*years?/gi\r\n  ];\r\n\r\n  yearPatterns.forEach(pattern => {\r\n    const matches = requirementsLower.match(pattern);\r\n    if (matches) {\r\n      const numbers = matches[0].match(/\\d+/g);\r\n      if (numbers) {\r\n        requiredYears = Math.max(requiredYears, parseInt(numbers[0]));\r\n      }\r\n    }\r\n  });\r\n\r\n  // Check for seniority level indicators\r\n  let seniorityMultiplier = 1;\r\n  if (requirementsLower.includes('senior') || requirementsLower.includes('lead')) {\r\n    seniorityMultiplier = 1.5;\r\n    requiredYears = Math.max(requiredYears, 5);\r\n  } else if (requirementsLower.includes('junior') || requirementsLower.includes('entry')) {\r\n    seniorityMultiplier = 0.5;\r\n    requiredYears = Math.max(requiredYears, 1);\r\n  } else if (requirementsLower.includes('mid-level') || requirementsLower.includes('intermediate')) {\r\n    requiredYears = Math.max(requiredYears, 3);\r\n  }\r\n\r\n  // Calculate score based on experience match\r\n  let score = 50; // Base score\r\n\r\n  if (requiredYears === 0) {\r\n    // No specific requirement, give points for any experience\r\n    score = Math.min(50 + (yearsOfExperience * 10), 100);\r\n  } else {\r\n    const experienceRatio = yearsOfExperience / requiredYears;\r\n\r\n    if (experienceRatio >= 1) {\r\n      // Has required experience or more\r\n      score = Math.min(80 + (experienceRatio * 10), 100);\r\n    } else if (experienceRatio >= 0.7) {\r\n      // Close to required experience\r\n      score = 60 + (experienceRatio * 20);\r\n    } else {\r\n      // Below required experience\r\n      score = 30 + (experienceRatio * 30);\r\n    }\r\n  }\r\n\r\n  // Check for relevant position titles\r\n  const relevantExperience = userExperience.some(exp => {\r\n    const positionLower = (exp.position || '').toLowerCase();\r\n    const titleLower = jobTitle.toLowerCase();\r\n\r\n    // Check if position title has similar keywords\r\n    const titleWords = titleLower.split(' ').filter(w => w.length > 3);\r\n    return titleWords.some(word => positionLower.includes(word));\r\n  });\r\n\r\n  if (relevantExperience) {\r\n    score = Math.min(score + 15, 100);\r\n  }\r\n\r\n  return {\r\n    score: Math.round(score),\r\n    yearsOfExperience: Math.round(yearsOfExperience * 10) / 10\r\n  };\r\n};\r\n\r\n/**\r\n * Calculate location match score\r\n */\r\nconst calculateLocationMatch = (userLocation, jobLocation, jobType) => {\r\n  // Remote jobs always score 100\r\n  if (jobType && jobType.toLowerCase().includes('remote')) {\r\n    return { score: 100, reason: 'Remote position' };\r\n  }\r\n\r\n  if (!userLocation || !jobLocation) {\r\n    return { score: 50, reason: 'Location not specified' };\r\n  }\r\n\r\n  const userLoc = userLocation.toLowerCase().trim();\r\n  const jobLoc = jobLocation.toLowerCase().trim();\r\n\r\n  // Exact match\r\n  if (userLoc === jobLoc) {\r\n    return { score: 100, reason: 'Exact location match' };\r\n  }\r\n\r\n  // Check if same city\r\n  const userCity = userLoc.split(',')[0].trim();\r\n  const jobCity = jobLoc.split(',')[0].trim();\r\n\r\n  if (userCity === jobCity) {\r\n    return { score: 95, reason: 'Same city' };\r\n  }\r\n\r\n  // Check if same state/region\r\n  if (userLoc.includes(jobCity) || jobLoc.includes(userCity)) {\r\n    return { score: 70, reason: 'Same region' };\r\n  }\r\n\r\n  // Check if same country\r\n  const userCountry = userLoc.split(',').pop().trim();\r\n  const jobCountry = jobLoc.split(',').pop().trim();\r\n\r\n  if (userCountry === jobCountry) {\r\n    return { score: 50, reason: 'Same country' };\r\n  }\r\n\r\n  return { score: 30, reason: 'Different location' };\r\n};\r\n\r\n/**\r\n * Calculate job type match score\r\n */\r\nconst calculateJobTypeMatch = (userAvailability, jobType) => {\r\n  if (!userAvailability || !jobType) {\r\n    return { score: 70 }; // Neutral score if not specified\r\n  }\r\n\r\n  const availLower = userAvailability.toLowerCase();\r\n  const typeLower = jobType.toLowerCase();\r\n\r\n  // Perfect match scenarios\r\n  if (typeLower.includes('remote') || availLower.includes('remote')) {\r\n    return { score: 100 };\r\n  }\r\n\r\n  if (availLower.includes('not actively looking') && !availLower.includes('available')) {\r\n    return { score: 40 }; // Lower score if not actively looking\r\n  }\r\n\r\n  if (availLower.includes('available')) {\r\n    if (typeLower.includes('full-time') || typeLower.includes('full time')) {\r\n      return { score: 100 };\r\n    }\r\n    if (typeLower.includes('part-time') || typeLower.includes('part time')) {\r\n      return { score: 85 };\r\n    }\r\n    if (typeLower.includes('contract')) {\r\n      return { score: 80 };\r\n    }\r\n  }\r\n\r\n  return { score: 70 };\r\n};\r\n\r\n/**\r\n * Calculate salary match score\r\n */\r\nconst calculateSalaryMatch = (expectedSalary, jobSalaryRange) => {\r\n  if (!expectedSalary || !jobSalaryRange) {\r\n    return { score: 70 }; // Neutral score if not specified\r\n  }\r\n\r\n  // Extract numbers from strings\r\n  const extractNumber = (str) => {\r\n    const numbers = str.match(/\\d+/g);\r\n    return numbers ? parseInt(numbers[0]) : 0;\r\n  };\r\n\r\n  const expected = extractNumber(expectedSalary);\r\n  const jobSalary = extractNumber(jobSalaryRange);\r\n\r\n  if (expected === 0 || jobSalary === 0) {\r\n    return { score: 70 };\r\n  }\r\n\r\n  const ratio = jobSalary / expected;\r\n\r\n  if (ratio >= 1) {\r\n    // Job pays equal or more than expected\r\n    return { score: 100 };\r\n  } else if (ratio >= 0.9) {\r\n    // Within 10% of expected\r\n    return { score: 85 };\r\n  } else if (ratio >= 0.8) {\r\n    // Within 20% of expected\r\n    return { score: 70 };\r\n  } else if (ratio >= 0.7) {\r\n    // Within 30% of expected\r\n    return { score: 50 };\r\n  } else {\r\n    // More than 30% below expected\r\n    return { score: 30 };\r\n  }\r\n};\r\n\r\n/**\r\n * Calculate education match score\r\n */\r\nconst calculateEducationMatch = (userEducation, jobRequirements) => {\r\n  if (!userEducation || userEducation.length === 0) {\r\n    return { score: 50 }; // Neutral score for no education\r\n  }\r\n\r\n  const reqLower = jobRequirements.toLowerCase();\r\n  let score = 60; // Base score for having education\r\n\r\n  // Check for degree requirements\r\n  const degrees = {\r\n    'phd': 100,\r\n    'doctorate': 100,\r\n    'master': 85,\r\n    'bachelor': 70,\r\n    'associate': 60\r\n  };\r\n\r\n  // Find highest degree user has\r\n  let userHighestDegree = 0;\r\n  userEducation.forEach(edu => {\r\n    const degreeLower = (edu.degree || '').toLowerCase();\r\n    Object.keys(degrees).forEach(degreeType => {\r\n      if (degreeLower.includes(degreeType)) {\r\n        userHighestDegree = Math.max(userHighestDegree, degrees[degreeType]);\r\n      }\r\n    });\r\n  });\r\n\r\n  // Check what job requires\r\n  let requiredDegree = 0;\r\n  Object.keys(degrees).forEach(degreeType => {\r\n    if (reqLower.includes(degreeType)) {\r\n      requiredDegree = Math.max(requiredDegree, degrees[degreeType]);\r\n    }\r\n  });\r\n\r\n  if (requiredDegree === 0) {\r\n    // No specific degree required\r\n    return { score: userHighestDegree || 70 };\r\n  }\r\n\r\n  if (userHighestDegree >= requiredDegree) {\r\n    return { score: 100 };\r\n  } else if (userHighestDegree > 0) {\r\n    // Has a degree but lower than required\r\n    return { score: 60 };\r\n  }\r\n\r\n  return { score: 40 };\r\n};\r\n\r\n/**\r\n * Get match level description\r\n */\r\nexport const getMatchLevel = (percentage) => {\r\n  if (percentage >= 85) return { level: 'Excellent', color: 'text-green-600 dark:text-green-400', bgColor: 'bg-green-100 dark:bg-green-900' };\r\n  if (percentage >= 70) return { level: 'Great', color: 'text-blue-600 dark:text-blue-400', bgColor: 'bg-blue-100 dark:bg-blue-900' };\r\n  if (percentage >= 55) return { level: 'Good', color: 'text-yellow-600 dark:text-yellow-400', bgColor: 'bg-yellow-100 dark:bg-yellow-900' };\r\n  if (percentage >= 40) return { level: 'Fair', color: 'text-orange-600 dark:text-orange-400', bgColor: 'bg-orange-100 dark:bg-orange-900' };\r\n  return { level: 'Low', color: 'text-gray-600 dark:text-gray-400', bgColor: 'bg-gray-100 dark:bg-gray-700' };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}