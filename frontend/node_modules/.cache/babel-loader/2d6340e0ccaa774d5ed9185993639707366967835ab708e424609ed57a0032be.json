{"ast":null,"code":"/**\r\n * AI-Powered Job Matching Algorithm\r\n * Calculates match score between user profile and job posting\r\n * Returns score (0-100), percentage, breakdown, and top reasons\r\n */\n\nexport function calculateJobMatch(profile, job) {\n  if (!profile || !job) {\n    return {\n      score: 0,\n      percentage: '0',\n      breakdown: {},\n      topReasons: [],\n      warnings: []\n    };\n  }\n  let totalScore = 0;\n  const breakdown = {};\n  const reasons = [];\n  const warnings = [];\n\n  // Weight distribution (total = 100%)\n  const weights = {\n    skills: 0.35,\n    // 35%\n    experience: 0.20,\n    // 20%\n    location: 0.15,\n    // 15%\n    workMode: 0.10,\n    // 10% (new)\n    jobType: 0.10,\n    // 10%\n    salary: 0.05,\n    // 5%\n    education: 0.05 // 5%\n  };\n\n  // 1. SKILLS MATCH (35%)\n  if (profile.skills && profile.skills.length > 0 && job.requirements) {\n    const userSkills = profile.skills.map(s => s.toLowerCase());\n    const jobRequirements = job.requirements.toLowerCase();\n    let matchedSkills = [];\n    userSkills.forEach(skill => {\n      if (jobRequirements.includes(skill)) {\n        matchedSkills.push(skill);\n      }\n    });\n    const skillScore = matchedSkills.length > 0 ? Math.min(100, matchedSkills.length / Math.max(userSkills.length, 3) * 100 + (matchedSkills.length > 3 ? 20 : 0)) : 0;\n    breakdown.skills = skillScore;\n    totalScore += skillScore * weights.skills;\n    if (matchedSkills.length > 0) {\n      reasons.push(`${matchedSkills.length} of your skills match: ${matchedSkills.slice(0, 3).join(', ')}`);\n    }\n  }\n\n  // 2. EXPERIENCE MATCH (20%)\n  if (profile.years_of_experience !== undefined) {\n    let experienceScore = 0;\n    const userYears = parseInt(profile.years_of_experience) || 0;\n\n    // Extract years from job description\n    const jobText = `${job.title} ${job.requirements} ${job.description}`.toLowerCase();\n    const yearMatches = jobText.match(/(\\d+)\\+?\\s*years?/gi);\n    let requiredYears = 0;\n    if (yearMatches) {\n      const numbers = yearMatches.map(m => parseInt(m.match(/\\d+/)[0]));\n      requiredYears = Math.max(...numbers);\n    }\n\n    // Detect seniority level\n    const isSenior = jobText.includes('senior') || jobText.includes('lead') || jobText.includes('principal');\n    const isMid = jobText.includes('mid') || jobText.includes('intermediate');\n    const isJunior = jobText.includes('junior') || jobText.includes('entry');\n    if (requiredYears > 0) {\n      if (userYears >= requiredYears) {\n        experienceScore = 100;\n        if (userYears > requiredYears + 2) {\n          reasons.push(`You exceed the ${requiredYears}+ years requirement`);\n        } else {\n          reasons.push(`You meet the ${requiredYears}+ years requirement`);\n        }\n      } else {\n        experienceScore = Math.max(0, userYears / requiredYears * 70);\n        warnings.push(`Job requires ${requiredYears}+ years, you have ${userYears}`);\n      }\n    } else {\n      // Seniority-based matching\n      if (isSenior && userYears >= 5) {\n        experienceScore = 100;\n        reasons.push('Your experience aligns with senior-level role');\n      } else if (isMid && userYears >= 2 && userYears <= 7) {\n        experienceScore = 100;\n      } else if (isJunior && userYears <= 3) {\n        experienceScore = 100;\n      } else {\n        experienceScore = 70;\n      }\n    }\n    breakdown.experience = experienceScore;\n    totalScore += experienceScore * weights.experience;\n  }\n\n  // 3. LOCATION MATCH (15%)\n  if (profile.location && job.location) {\n    let locationScore = 0;\n    const userLoc = profile.location.toLowerCase();\n    const jobLoc = job.location.toLowerCase();\n    if (jobLoc.includes('remote') || jobLoc.includes('anywhere') || jobLoc.includes('worldwide')) {\n      locationScore = 100;\n      reasons.push('Remote work available');\n    } else if (userLoc === jobLoc) {\n      locationScore = 100;\n      reasons.push(`Perfect location match: ${job.location}`);\n    } else {\n      // Check for partial matches (city, state, country)\n      const userParts = userLoc.split(',').map(s => s.trim());\n      const jobParts = jobLoc.split(',').map(s => s.trim());\n      const matchingParts = userParts.filter(part => jobParts.some(jp => jp.includes(part) || part.includes(jp)));\n      if (matchingParts.length > 0) {\n        locationScore = 60 + matchingParts.length * 20;\n      } else {\n        locationScore = 20;\n      }\n    }\n    breakdown.location = locationScore;\n    totalScore += locationScore * weights.location;\n  }\n\n  // 4. WORK MODE MATCH (10%) - NEW\n  if (profile.preferred_work_mode && job.work_mode) {\n    let workModeScore = 0;\n    const userPreference = profile.preferred_work_mode.toLowerCase();\n    const jobMode = job.work_mode.toLowerCase();\n    if (userPreference === jobMode) {\n      workModeScore = 100;\n      reasons.push(`Work mode matches your preference: ${job.work_mode}`);\n    } else if (userPreference === 'flexible' || jobMode === 'flexible') {\n      workModeScore = 80;\n    } else if (userPreference === 'hybrid' && (jobMode === 'remote' || jobMode === 'on-site') || jobMode === 'hybrid' && (userPreference === 'remote' || userPreference === 'on-site')) {\n      workModeScore = 60;\n    } else {\n      workModeScore = 30;\n      warnings.push(`Job is ${job.work_mode}, you prefer ${profile.preferred_work_mode}`);\n    }\n    breakdown.workMode = workModeScore;\n    totalScore += workModeScore * weights.workMode;\n  }\n\n  // 5. JOB TYPE MATCH (10%)\n  if (profile.preferred_job_type && job.job_type) {\n    let jobTypeScore = 0;\n    const userType = profile.preferred_job_type.toLowerCase();\n    const jobType = job.job_type.toLowerCase();\n    if (userType === jobType || userType === 'flexible' || jobType === 'flexible') {\n      jobTypeScore = 100;\n    } else {\n      jobTypeScore = 40;\n    }\n    breakdown.jobType = jobTypeScore;\n    totalScore += jobTypeScore * weights.jobType;\n  }\n\n  // 6. SALARY MATCH (5%)\n  if (profile.expected_salary && job.salary_range) {\n    let salaryScore = 0;\n    const expectedSalary = parseInt(profile.expected_salary.replace(/[^0-9]/g, ''));\n    const salaryText = job.salary_range.toLowerCase();\n    const salaryNumbers = salaryText.match(/\\d+/g);\n    if (salaryNumbers && salaryNumbers.length >= 2) {\n      const minSalary = parseInt(salaryNumbers[0]) * (salaryText.includes('k') ? 1000 : 1);\n      const maxSalary = parseInt(salaryNumbers[1]) * (salaryText.includes('k') ? 1000 : 1);\n      if (expectedSalary >= minSalary && expectedSalary <= maxSalary) {\n        salaryScore = 100;\n        reasons.push('Salary range matches your expectations');\n      } else if (expectedSalary < minSalary) {\n        salaryScore = 100;\n      } else {\n        const diff = (expectedSalary - maxSalary) / maxSalary * 100;\n        salaryScore = Math.max(0, 100 - diff);\n      }\n    }\n    breakdown.salary = salaryScore;\n    totalScore += salaryScore * weights.salary;\n  }\n\n  // 7. EDUCATION MATCH (5%)\n  if (profile.education && job.requirements) {\n    let educationScore = 70;\n    const userEdu = profile.education.toLowerCase();\n    const jobReq = job.requirements.toLowerCase();\n    const educationLevels = {\n      'phd': 5,\n      'doctorate': 5,\n      'master': 4,\n      'msc': 4,\n      'mba': 4,\n      'bachelor': 3,\n      'bsc': 3,\n      'ba': 3,\n      'associate': 2,\n      'high school': 1,\n      'diploma': 1\n    };\n    let userLevel = 0;\n    let requiredLevel = 0;\n    for (const [keyword, level] of Object.entries(educationLevels)) {\n      if (userEdu.includes(keyword)) userLevel = Math.max(userLevel, level);\n      if (jobReq.includes(keyword)) requiredLevel = Math.max(requiredLevel, level);\n    }\n    if (userLevel >= requiredLevel) {\n      educationScore = 100;\n    } else if (requiredLevel > 0) {\n      educationScore = Math.max(40, userLevel / requiredLevel * 80);\n    }\n    breakdown.education = educationScore;\n    totalScore += educationScore * weights.education;\n  }\n\n  // Calculate final score\n  const finalScore = Math.round(totalScore);\n  const percentage = finalScore.toString();\n\n  // Select top 3 reasons\n  const topReasons = reasons.slice(0, 3);\n  return {\n    score: finalScore,\n    percentage,\n    breakdown,\n    topReasons,\n    warnings\n  };\n}","map":{"version":3,"names":["calculateJobMatch","profile","job","score","percentage","breakdown","topReasons","warnings","totalScore","reasons","weights","skills","experience","location","workMode","jobType","salary","education","length","requirements","userSkills","map","s","toLowerCase","jobRequirements","matchedSkills","forEach","skill","includes","push","skillScore","Math","min","max","slice","join","years_of_experience","undefined","experienceScore","userYears","parseInt","jobText","title","description","yearMatches","match","requiredYears","numbers","m","isSenior","isMid","isJunior","locationScore","userLoc","jobLoc","userParts","split","trim","jobParts","matchingParts","filter","part","some","jp","preferred_work_mode","work_mode","workModeScore","userPreference","jobMode","preferred_job_type","job_type","jobTypeScore","userType","expected_salary","salary_range","salaryScore","expectedSalary","replace","salaryText","salaryNumbers","minSalary","maxSalary","diff","educationScore","userEdu","jobReq","educationLevels","userLevel","requiredLevel","keyword","level","Object","entries","finalScore","round","toString"],"sources":["D:/websites/job-board-platform/frontend/src/utils/jobMatchingAlgorithm.js"],"sourcesContent":["/**\r\n * AI-Powered Job Matching Algorithm\r\n * Calculates match score between user profile and job posting\r\n * Returns score (0-100), percentage, breakdown, and top reasons\r\n */\r\n\r\nexport function calculateJobMatch(profile, job) {\r\n  if (!profile || !job) {\r\n    return { score: 0, percentage: '0', breakdown: {}, topReasons: [], warnings: [] };\r\n  }\r\n\r\n  let totalScore = 0;\r\n  const breakdown = {};\r\n  const reasons = [];\r\n  const warnings = [];\r\n\r\n  // Weight distribution (total = 100%)\r\n  const weights = {\r\n    skills: 0.35,      // 35%\r\n    experience: 0.20,  // 20%\r\n    location: 0.15,    // 15%\r\n    workMode: 0.10,    // 10% (new)\r\n    jobType: 0.10,     // 10%\r\n    salary: 0.05,      // 5%\r\n    education: 0.05    // 5%\r\n  };\r\n\r\n  // 1. SKILLS MATCH (35%)\r\n  if (profile.skills && profile.skills.length > 0 && job.requirements) {\r\n    const userSkills = profile.skills.map(s => s.toLowerCase());\r\n    const jobRequirements = job.requirements.toLowerCase();\r\n    \r\n    let matchedSkills = [];\r\n    userSkills.forEach(skill => {\r\n      if (jobRequirements.includes(skill)) {\r\n        matchedSkills.push(skill);\r\n      }\r\n    });\r\n\r\n    const skillScore = matchedSkills.length > 0 \r\n      ? Math.min(100, (matchedSkills.length / Math.max(userSkills.length, 3)) * 100 + (matchedSkills.length > 3 ? 20 : 0))\r\n      : 0;\r\n\r\n    breakdown.skills = skillScore;\r\n    totalScore += skillScore * weights.skills;\r\n\r\n    if (matchedSkills.length > 0) {\r\n      reasons.push(`${matchedSkills.length} of your skills match: ${matchedSkills.slice(0, 3).join(', ')}`);\r\n    }\r\n  }\r\n\r\n  // 2. EXPERIENCE MATCH (20%)\r\n  if (profile.years_of_experience !== undefined) {\r\n    let experienceScore = 0;\r\n    const userYears = parseInt(profile.years_of_experience) || 0;\r\n    \r\n    // Extract years from job description\r\n    const jobText = `${job.title} ${job.requirements} ${job.description}`.toLowerCase();\r\n    const yearMatches = jobText.match(/(\\d+)\\+?\\s*years?/gi);\r\n    let requiredYears = 0;\r\n    \r\n    if (yearMatches) {\r\n      const numbers = yearMatches.map(m => parseInt(m.match(/\\d+/)[0]));\r\n      requiredYears = Math.max(...numbers);\r\n    }\r\n\r\n    // Detect seniority level\r\n    const isSenior = jobText.includes('senior') || jobText.includes('lead') || jobText.includes('principal');\r\n    const isMid = jobText.includes('mid') || jobText.includes('intermediate');\r\n    const isJunior = jobText.includes('junior') || jobText.includes('entry');\r\n\r\n    if (requiredYears > 0) {\r\n      if (userYears >= requiredYears) {\r\n        experienceScore = 100;\r\n        if (userYears > requiredYears + 2) {\r\n          reasons.push(`You exceed the ${requiredYears}+ years requirement`);\r\n        } else {\r\n          reasons.push(`You meet the ${requiredYears}+ years requirement`);\r\n        }\r\n      } else {\r\n        experienceScore = Math.max(0, (userYears / requiredYears) * 70);\r\n        warnings.push(`Job requires ${requiredYears}+ years, you have ${userYears}`);\r\n      }\r\n    } else {\r\n      // Seniority-based matching\r\n      if (isSenior && userYears >= 5) {\r\n        experienceScore = 100;\r\n        reasons.push('Your experience aligns with senior-level role');\r\n      } else if (isMid && userYears >= 2 && userYears <= 7) {\r\n        experienceScore = 100;\r\n      } else if (isJunior && userYears <= 3) {\r\n        experienceScore = 100;\r\n      } else {\r\n        experienceScore = 70;\r\n      }\r\n    }\r\n\r\n    breakdown.experience = experienceScore;\r\n    totalScore += experienceScore * weights.experience;\r\n  }\r\n\r\n  // 3. LOCATION MATCH (15%)\r\n  if (profile.location && job.location) {\r\n    let locationScore = 0;\r\n    const userLoc = profile.location.toLowerCase();\r\n    const jobLoc = job.location.toLowerCase();\r\n\r\n    if (jobLoc.includes('remote') || jobLoc.includes('anywhere') || jobLoc.includes('worldwide')) {\r\n      locationScore = 100;\r\n      reasons.push('Remote work available');\r\n    } else if (userLoc === jobLoc) {\r\n      locationScore = 100;\r\n      reasons.push(`Perfect location match: ${job.location}`);\r\n    } else {\r\n      // Check for partial matches (city, state, country)\r\n      const userParts = userLoc.split(',').map(s => s.trim());\r\n      const jobParts = jobLoc.split(',').map(s => s.trim());\r\n      \r\n      const matchingParts = userParts.filter(part => \r\n        jobParts.some(jp => jp.includes(part) || part.includes(jp))\r\n      );\r\n\r\n      if (matchingParts.length > 0) {\r\n        locationScore = 60 + (matchingParts.length * 20);\r\n      } else {\r\n        locationScore = 20;\r\n      }\r\n    }\r\n\r\n    breakdown.location = locationScore;\r\n    totalScore += locationScore * weights.location;\r\n  }\r\n\r\n  // 4. WORK MODE MATCH (10%) - NEW\r\n  if (profile.preferred_work_mode && job.work_mode) {\r\n    let workModeScore = 0;\r\n    const userPreference = profile.preferred_work_mode.toLowerCase();\r\n    const jobMode = job.work_mode.toLowerCase();\r\n\r\n    if (userPreference === jobMode) {\r\n      workModeScore = 100;\r\n      reasons.push(`Work mode matches your preference: ${job.work_mode}`);\r\n    } else if (userPreference === 'flexible' || jobMode === 'flexible') {\r\n      workModeScore = 80;\r\n    } else if (\r\n      (userPreference === 'hybrid' && (jobMode === 'remote' || jobMode === 'on-site')) ||\r\n      (jobMode === 'hybrid' && (userPreference === 'remote' || userPreference === 'on-site'))\r\n    ) {\r\n      workModeScore = 60;\r\n    } else {\r\n      workModeScore = 30;\r\n      warnings.push(`Job is ${job.work_mode}, you prefer ${profile.preferred_work_mode}`);\r\n    }\r\n\r\n    breakdown.workMode = workModeScore;\r\n    totalScore += workModeScore * weights.workMode;\r\n  }\r\n\r\n  // 5. JOB TYPE MATCH (10%)\r\n  if (profile.preferred_job_type && job.job_type) {\r\n    let jobTypeScore = 0;\r\n    const userType = profile.preferred_job_type.toLowerCase();\r\n    const jobType = job.job_type.toLowerCase();\r\n\r\n    if (userType === jobType || userType === 'flexible' || jobType === 'flexible') {\r\n      jobTypeScore = 100;\r\n    } else {\r\n      jobTypeScore = 40;\r\n    }\r\n\r\n    breakdown.jobType = jobTypeScore;\r\n    totalScore += jobTypeScore * weights.jobType;\r\n  }\r\n\r\n  // 6. SALARY MATCH (5%)\r\n  if (profile.expected_salary && job.salary_range) {\r\n    let salaryScore = 0;\r\n    const expectedSalary = parseInt(profile.expected_salary.replace(/[^0-9]/g, ''));\r\n    const salaryText = job.salary_range.toLowerCase();\r\n    \r\n    const salaryNumbers = salaryText.match(/\\d+/g);\r\n    if (salaryNumbers && salaryNumbers.length >= 2) {\r\n      const minSalary = parseInt(salaryNumbers[0]) * (salaryText.includes('k') ? 1000 : 1);\r\n      const maxSalary = parseInt(salaryNumbers[1]) * (salaryText.includes('k') ? 1000 : 1);\r\n\r\n      if (expectedSalary >= minSalary && expectedSalary <= maxSalary) {\r\n        salaryScore = 100;\r\n        reasons.push('Salary range matches your expectations');\r\n      } else if (expectedSalary < minSalary) {\r\n        salaryScore = 100;\r\n      } else {\r\n        const diff = ((expectedSalary - maxSalary) / maxSalary) * 100;\r\n        salaryScore = Math.max(0, 100 - diff);\r\n      }\r\n    }\r\n\r\n    breakdown.salary = salaryScore;\r\n    totalScore += salaryScore * weights.salary;\r\n  }\r\n\r\n  // 7. EDUCATION MATCH (5%)\r\n  if (profile.education && job.requirements) {\r\n    let educationScore = 70;\r\n    const userEdu = profile.education.toLowerCase();\r\n    const jobReq = job.requirements.toLowerCase();\r\n\r\n    const educationLevels = {\r\n      'phd': 5, 'doctorate': 5,\r\n      'master': 4, 'msc': 4, 'mba': 4,\r\n      'bachelor': 3, 'bsc': 3, 'ba': 3,\r\n      'associate': 2,\r\n      'high school': 1, 'diploma': 1\r\n    };\r\n\r\n    let userLevel = 0;\r\n    let requiredLevel = 0;\r\n\r\n    for (const [keyword, level] of Object.entries(educationLevels)) {\r\n      if (userEdu.includes(keyword)) userLevel = Math.max(userLevel, level);\r\n      if (jobReq.includes(keyword)) requiredLevel = Math.max(requiredLevel, level);\r\n    }\r\n\r\n    if (userLevel >= requiredLevel) {\r\n      educationScore = 100;\r\n    } else if (requiredLevel > 0) {\r\n      educationScore = Math.max(40, (userLevel / requiredLevel) * 80);\r\n    }\r\n\r\n    breakdown.education = educationScore;\r\n    totalScore += educationScore * weights.education;\r\n  }\r\n\r\n  // Calculate final score\r\n  const finalScore = Math.round(totalScore);\r\n  const percentage = finalScore.toString();\r\n\r\n  // Select top 3 reasons\r\n  const topReasons = reasons.slice(0, 3);\r\n\r\n  return {\r\n    score: finalScore,\r\n    percentage,\r\n    breakdown,\r\n    topReasons,\r\n    warnings\r\n  };\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}